{"uid":"a10fa34452929306","name":"test_create_channel_with_actual_value","fullName":"test.spec.test_create_and_close_channel#test_create_channel_with_actual_value","historyId":"deab93c82940cc8ede34254d0a4e79b6","time":{"start":1763725167028,"stop":1763725306028,"duration":139000},"description":"Test creating channel with actual value.","descriptionHtml":"<p>Test creating channel with actual value.</p>\n","status":"broken","statusMessage":"AttributeError: 'bool' object has no attribute 'grabFocus'","statusTrace":"wallets_and_operations = WalletTestSetup(first_page_features=<e2e_tests.test.features.main_features.MainFeatures object at 0x7f0740bd91c0>, sec...e_operations=<e2e_tests.test.utilities.base_operation.BaseOperations object at 0x7f074092da00>, wallet_mode='embedded')\n\n    @allure.feature('Create channel for embedded')\n    @allure.story('Create channel with actual value and then close it for embedded')\n    def test_create_channel_with_actual_value(wallets_and_operations: WalletTestSetup):\n        \"\"\"Test creating channel with actual value.\"\"\"\n        node_uri = None\n    \n        with allure.step('Create and fund first wallet for create channel'):\n            wallets_and_operations.first_page_features.wallet_features.create_and_fund_wallet(\n                wallets_and_operations=wallets_and_operations, application=FIRST_APPLICATION, application_url=FIRST_APPLICATION_URL,\n            )\n    \n        with allure.step('Create and fund second wallet for create channel'):\n            wallets_and_operations.second_page_features.wallet_features.create_and_fund_wallet(\n                wallets_and_operations=wallets_and_operations, application=SECOND_APPLICATION, application_url=SECOND_APPLICATION_URL,\n            )\n    \n        with allure.step('Issue RGB20 asset for rgb20 channel creation'):\n            wallets_and_operations.first_page_operations.do_focus_on_application(\n                FIRST_APPLICATION,\n            )\n            wallets_and_operations.first_page_features.issue_rgb20_features.issue_rgb20_with_sufficient_sats_and_utxo(\n                application=FIRST_APPLICATION, asset_ticker=ASSET_TICKER, asset_name=ASSET_NAME, asset_amount=ASSET_AMOUNT,\n            )\n            wallets_and_operations.first_page_objects.fungible_page_objects.click_rgb20_frame(\n                asset_name=ASSET_NAME,\n            )\n            wallets_and_operations.first_page_objects.asset_detail_page_objects.click_copy_button()\n            asset_id = wallets_and_operations.first_page_operations.do_get_copied_address()\n            wallets_and_operations.first_page_objects.asset_detail_page_objects.click_close_button()\n    \n        with allure.step('Get node URI for create channel'):\n            if wallets_and_operations.wallet_mode == WalletType.EMBEDDED_TYPE_WALLET.value:\n                node_uri = wallets_and_operations.second_page_features.channel_features.get_node_uri_for_embedded(\n                    application=SECOND_APPLICATION, ip_address=IP_ADDRESS,\n                )\n            elif wallets_and_operations.wallet_mode == WalletType.REMOTE_TYPE_WALLET.value:\n                node_uri = wallets_and_operations.second_page_features.channel_features.get_node_uri_for_remote(\n                    application=SECOND_APPLICATION, ip_address=IP_ADDRESS, ln_port=LN_PORT,\n                )\n    \n        with allure.step('Create channel'):\n            wallets_and_operations.first_page_operations.do_focus_on_application(\n                FIRST_APPLICATION,\n            )\n            channel_status = wallets_and_operations.first_page_features.channel_features.create_channel(\n                application=FIRST_APPLICATION, node_uri=node_uri, asset_ticker=ASSET_TICKER, asset_amount=CREATE_ASSET_CHANNEL_WITH_AMOUNT, channel_capacity=CHANNEL_CAPACITY,\n            )\n    \n        assert channel_status == CHANNEL_STATUS\n    \n        with allure.step('Close channel'):\n            wallets_and_operations.first_page_operations.do_focus_on_application(\n                FIRST_APPLICATION,\n            )\n            wallets_and_operations.first_page_objects.sidebar_page_objects.click_channel_management_button()\n            wallets_and_operations.first_page_objects.channel_management_page_objects.click_channel_frame(\n                asset_id=asset_id,\n            )\n            wallets_and_operations.first_page_objects.channel_detail_dialog_page_objects.click_copy_button()\n            pub_key = wallets_and_operations.first_page_operations.do_get_copied_address()\n            wallets_and_operations.first_page_objects.channel_detail_dialog_page_objects.click_close_channel_button()\n            wallets_and_operations.first_page_objects.close_channel_detail_dialog_page_objects.click_continue_button()\n>           wallets_and_operations.first_page_objects.toaster_page_objects.click_toaster_frame()\n\ne2e_tests/test/spec/test_create_and_close_channel.py:92: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ne2e_tests/test/pageobjects/toaster_page.py:54: in click_toaster_frame\n    return self.do_click(self.toaster_frame()) if self.do_is_displayed(self.toaster_frame()) else None\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <e2e_tests.test.pageobjects.toaster_page.ToasterPageObjects object at 0x7f07500b3830>\nelement = False\n\n    def do_is_displayed(self, element):\n        \"\"\"\n        Checks if the specified element is displayed.\n    \n        Args:\n            element (Node): The element to check.\n    \n        Returns:\n            bool: True if the element is displayed, False otherwise.\n        \"\"\"\n>       element.grabFocus()\nE       AttributeError: 'bool' object has no attribute 'grabFocus'\n\ne2e_tests/test/utilities/base_operation.py:141: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"load_qm_translation","time":{"start":1763725163166,"stop":1763725163166,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_environment","time":{"start":1763725163166,"stop":1763725167027,"duration":3861},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wallets_and_operations","time":{"start":1763725167027,"stop":1763725167027,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test creating channel with actual value.","status":"broken","statusMessage":"AttributeError: 'bool' object has no attribute 'grabFocus'","statusTrace":"wallets_and_operations = WalletTestSetup(first_page_features=<e2e_tests.test.features.main_features.MainFeatures object at 0x7f0740bd91c0>, sec...e_operations=<e2e_tests.test.utilities.base_operation.BaseOperations object at 0x7f074092da00>, wallet_mode='embedded')\n\n    @allure.feature('Create channel for embedded')\n    @allure.story('Create channel with actual value and then close it for embedded')\n    def test_create_channel_with_actual_value(wallets_and_operations: WalletTestSetup):\n        \"\"\"Test creating channel with actual value.\"\"\"\n        node_uri = None\n    \n        with allure.step('Create and fund first wallet for create channel'):\n            wallets_and_operations.first_page_features.wallet_features.create_and_fund_wallet(\n                wallets_and_operations=wallets_and_operations, application=FIRST_APPLICATION, application_url=FIRST_APPLICATION_URL,\n            )\n    \n        with allure.step('Create and fund second wallet for create channel'):\n            wallets_and_operations.second_page_features.wallet_features.create_and_fund_wallet(\n                wallets_and_operations=wallets_and_operations, application=SECOND_APPLICATION, application_url=SECOND_APPLICATION_URL,\n            )\n    \n        with allure.step('Issue RGB20 asset for rgb20 channel creation'):\n            wallets_and_operations.first_page_operations.do_focus_on_application(\n                FIRST_APPLICATION,\n            )\n            wallets_and_operations.first_page_features.issue_rgb20_features.issue_rgb20_with_sufficient_sats_and_utxo(\n                application=FIRST_APPLICATION, asset_ticker=ASSET_TICKER, asset_name=ASSET_NAME, asset_amount=ASSET_AMOUNT,\n            )\n            wallets_and_operations.first_page_objects.fungible_page_objects.click_rgb20_frame(\n                asset_name=ASSET_NAME,\n            )\n            wallets_and_operations.first_page_objects.asset_detail_page_objects.click_copy_button()\n            asset_id = wallets_and_operations.first_page_operations.do_get_copied_address()\n            wallets_and_operations.first_page_objects.asset_detail_page_objects.click_close_button()\n    \n        with allure.step('Get node URI for create channel'):\n            if wallets_and_operations.wallet_mode == WalletType.EMBEDDED_TYPE_WALLET.value:\n                node_uri = wallets_and_operations.second_page_features.channel_features.get_node_uri_for_embedded(\n                    application=SECOND_APPLICATION, ip_address=IP_ADDRESS,\n                )\n            elif wallets_and_operations.wallet_mode == WalletType.REMOTE_TYPE_WALLET.value:\n                node_uri = wallets_and_operations.second_page_features.channel_features.get_node_uri_for_remote(\n                    application=SECOND_APPLICATION, ip_address=IP_ADDRESS, ln_port=LN_PORT,\n                )\n    \n        with allure.step('Create channel'):\n            wallets_and_operations.first_page_operations.do_focus_on_application(\n                FIRST_APPLICATION,\n            )\n            channel_status = wallets_and_operations.first_page_features.channel_features.create_channel(\n                application=FIRST_APPLICATION, node_uri=node_uri, asset_ticker=ASSET_TICKER, asset_amount=CREATE_ASSET_CHANNEL_WITH_AMOUNT, channel_capacity=CHANNEL_CAPACITY,\n            )\n    \n        assert channel_status == CHANNEL_STATUS\n    \n        with allure.step('Close channel'):\n            wallets_and_operations.first_page_operations.do_focus_on_application(\n                FIRST_APPLICATION,\n            )\n            wallets_and_operations.first_page_objects.sidebar_page_objects.click_channel_management_button()\n            wallets_and_operations.first_page_objects.channel_management_page_objects.click_channel_frame(\n                asset_id=asset_id,\n            )\n            wallets_and_operations.first_page_objects.channel_detail_dialog_page_objects.click_copy_button()\n            pub_key = wallets_and_operations.first_page_operations.do_get_copied_address()\n            wallets_and_operations.first_page_objects.channel_detail_dialog_page_objects.click_close_channel_button()\n            wallets_and_operations.first_page_objects.close_channel_detail_dialog_page_objects.click_continue_button()\n>           wallets_and_operations.first_page_objects.toaster_page_objects.click_toaster_frame()\n\ne2e_tests/test/spec/test_create_and_close_channel.py:92: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ne2e_tests/test/pageobjects/toaster_page.py:54: in click_toaster_frame\n    return self.do_click(self.toaster_frame()) if self.do_is_displayed(self.toaster_frame()) else None\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <e2e_tests.test.pageobjects.toaster_page.ToasterPageObjects object at 0x7f07500b3830>\nelement = False\n\n    def do_is_displayed(self, element):\n        \"\"\"\n        Checks if the specified element is displayed.\n    \n        Args:\n            element (Node): The element to check.\n    \n        Returns:\n            bool: True if the element is displayed, False otherwise.\n        \"\"\"\n>       element.grabFocus()\nE       AttributeError: 'bool' object has no attribute 'grabFocus'\n\ne2e_tests/test/utilities/base_operation.py:141: AttributeError","steps":[{"name":"Create and fund first wallet for create channel","time":{"start":1763725167028,"stop":1763725189938,"duration":22910},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Create and fund second wallet for create channel","time":{"start":1763725189938,"stop":1763725212845,"duration":22907},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Issue RGB20 asset for rgb20 channel creation","time":{"start":1763725212846,"stop":1763725224704,"duration":11858},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Get node URI for create channel","time":{"start":1763725224704,"stop":1763725231357,"duration":6653},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Create channel","time":{"start":1763725231358,"stop":1763725265395,"duration":34037},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Close channel","time":{"start":1763725265396,"stop":1763725306025,"duration":40629},"status":"broken","statusMessage":"AttributeError: 'bool' object has no attribute 'grabFocus'\n","statusTrace":"  File \"/home/runner/work/iris-wallet-desktop/iris-wallet-desktop/e2e_tests/test/spec/test_create_and_close_channel.py\", line 92, in test_create_channel_with_actual_value\n    wallets_and_operations.first_page_objects.toaster_page_objects.click_toaster_frame()\n  File \"/home/runner/work/iris-wallet-desktop/iris-wallet-desktop/e2e_tests/test/pageobjects/toaster_page.py\", line 54, in click_toaster_frame\n    return self.do_click(self.toaster_frame()) if self.do_is_displayed(self.toaster_frame()) else None\n                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/iris-wallet-desktop/iris-wallet-desktop/e2e_tests/test/utilities/base_operation.py\", line 141, in do_is_displayed\n    element.grabFocus()\n    ^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"547b2767aa814754","name":"Screenshot on failure: test_create_channel_with_actual_value","source":"547b2767aa814754.png","type":"image/png","size":1141911}],"parameters":[],"stepsCount":6,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_environment::0","time":{"start":1763725341927,"stop":1763725341934,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"story","value":"Create channel with actual value and then close it for embedded"},{"name":"feature","value":"Create channel for embedded"},{"name":"parentSuite","value":"test.spec"},{"name":"suite","value":"test_create_and_close_channel"},{"name":"host","value":"runnervmfxdz0"},{"name":"thread","value":"5646-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test.spec.test_create_and_close_channel"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"a10fa34452929306.json","parameterValues":[]}