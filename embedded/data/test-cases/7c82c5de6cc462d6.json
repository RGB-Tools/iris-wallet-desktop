{"uid":"7c82c5de6cc462d6","name":"test_ask_auth_for_imp_question_send_rgb20_on","fullName":"test.spec.test_ask_auth_for_imp_operations#test_ask_auth_for_imp_question_send_rgb20_on","historyId":"b01f322b9efb7bee301d4c770f1f1aa6","time":{"start":1766073178271,"stop":1766073411695,"duration":233424},"description":"Sending RGB20 asset with ask auth for important operations on","descriptionHtml":"<p>Sending RGB20 asset with ask auth for important operations on</p>\n","status":"broken","statusMessage":"TypeError: expected string or bytes-like object, got 'types.UnionType'","statusTrace":"wallets_and_operations = WalletTestSetup(first_page_features=<e2e_tests.test.features.main_features.MainFeatures object at 0x7f5aea012fc0>, sec...e_operations=<e2e_tests.test.utilities.base_operation.BaseOperations object at 0x7f5ae9c293a0>, wallet_mode='embedded')\n\n    @allure.story('Sending RGB20 asset')\n    def test_ask_auth_for_imp_question_send_rgb20_on(wallets_and_operations: WalletTestSetup):\n        \"\"\"Sending RGB20 asset with ask auth for important operations on\"\"\"\n        with allure.step('Getting an RGB invoice'):\n            wallets_and_operations.second_page_operations.do_focus_on_application(\n                SECOND_APPLICATION,\n            )\n            rgb20_invoice = wallets_and_operations.second_page_features.receive_features.receive_asset_from_sidebar(\n                SECOND_APPLICATION,\n            )\n    \n        with allure.step('Sending the RGB20 asset'):\n            wallets_and_operations.first_page_operations.do_focus_on_application(\n                FIRST_APPLICATION,\n            )\n            wallets_and_operations.first_page_objects.fungible_page_objects.click_rgb20_frame(\n                ASSET_AMOUNT,\n            )\n            wallets_and_operations.first_page_objects.asset_detail_page_objects.click_send_button()\n            wallets_and_operations.first_page_features.send_features.send(\n                FIRST_APPLICATION, rgb20_invoice, ASSET_AMOUNT, is_native_auth_enabled=True,\n            )\n            _, toaster_description = wallets_and_operations.first_page_objects.toaster_page_objects.click_toaster_frame()\n        with allure.step('asserting tx id'):\n            wallets_and_operations.second_page_operations.do_focus_on_application(\n                SECOND_APPLICATION,\n            )\n            wallets_and_operations.second_page_objects.fungible_page_objects.click_refresh_button()\n            wallets_and_operations.second_page_objects.fungible_page_objects.click_rgb20_frame(\n                ASSET_NAME_1,\n            )\n            wallets_and_operations.second_page_objects.asset_detail_page_objects.click_rgb_transaction_on_chain_frame()\n            tx_id = wallets_and_operations.second_page_objects.asset_transaction_detail_page_objects.get_tx_id()\n            wallets_and_operations.second_page_objects.asset_transaction_detail_page_objects.click_close_button()\n            wallets_and_operations.second_page_objects.asset_detail_page_objects.click_close_button()\n>           tx_id = re.sub(r'[\\u200B\\u200C\\u200D\\u2060\\uFEFF]', '', tx_id)\n\ne2e_tests/test/spec/test_ask_auth_for_imp_operations.py:147: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npattern = '[\\\\u200B\\\\u200C\\\\u200D\\\\u2060\\\\uFEFF]', repl = ''\nstring = str | None, count = 0, flags = 0\n\n    def sub(pattern, repl, string, count=0, flags=0):\n        \"\"\"Return the string obtained by replacing the leftmost\n        non-overlapping occurrences of the pattern in string by the\n        replacement repl.  repl can be either a string or a callable;\n        if a string, backslash escapes in it are processed.  If it is\n        a callable, it's passed the Match object and must return\n        a replacement string to be used.\"\"\"\n>       return _compile(pattern, flags).sub(repl, string, count)\nE       TypeError: expected string or bytes-like object, got 'types.UnionType'\n\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/re/__init__.py:186: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"cleanup_between_tests","time":{"start":1766073178270,"stop":1766073178270,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"wallets_and_operations","time":{"start":1766073178270,"stop":1766073178270,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"Sending RGB20 asset with ask auth for important operations on","status":"broken","statusMessage":"TypeError: expected string or bytes-like object, got 'types.UnionType'","statusTrace":"wallets_and_operations = WalletTestSetup(first_page_features=<e2e_tests.test.features.main_features.MainFeatures object at 0x7f5aea012fc0>, sec...e_operations=<e2e_tests.test.utilities.base_operation.BaseOperations object at 0x7f5ae9c293a0>, wallet_mode='embedded')\n\n    @allure.story('Sending RGB20 asset')\n    def test_ask_auth_for_imp_question_send_rgb20_on(wallets_and_operations: WalletTestSetup):\n        \"\"\"Sending RGB20 asset with ask auth for important operations on\"\"\"\n        with allure.step('Getting an RGB invoice'):\n            wallets_and_operations.second_page_operations.do_focus_on_application(\n                SECOND_APPLICATION,\n            )\n            rgb20_invoice = wallets_and_operations.second_page_features.receive_features.receive_asset_from_sidebar(\n                SECOND_APPLICATION,\n            )\n    \n        with allure.step('Sending the RGB20 asset'):\n            wallets_and_operations.first_page_operations.do_focus_on_application(\n                FIRST_APPLICATION,\n            )\n            wallets_and_operations.first_page_objects.fungible_page_objects.click_rgb20_frame(\n                ASSET_AMOUNT,\n            )\n            wallets_and_operations.first_page_objects.asset_detail_page_objects.click_send_button()\n            wallets_and_operations.first_page_features.send_features.send(\n                FIRST_APPLICATION, rgb20_invoice, ASSET_AMOUNT, is_native_auth_enabled=True,\n            )\n            _, toaster_description = wallets_and_operations.first_page_objects.toaster_page_objects.click_toaster_frame()\n        with allure.step('asserting tx id'):\n            wallets_and_operations.second_page_operations.do_focus_on_application(\n                SECOND_APPLICATION,\n            )\n            wallets_and_operations.second_page_objects.fungible_page_objects.click_refresh_button()\n            wallets_and_operations.second_page_objects.fungible_page_objects.click_rgb20_frame(\n                ASSET_NAME_1,\n            )\n            wallets_and_operations.second_page_objects.asset_detail_page_objects.click_rgb_transaction_on_chain_frame()\n            tx_id = wallets_and_operations.second_page_objects.asset_transaction_detail_page_objects.get_tx_id()\n            wallets_and_operations.second_page_objects.asset_transaction_detail_page_objects.click_close_button()\n            wallets_and_operations.second_page_objects.asset_detail_page_objects.click_close_button()\n>           tx_id = re.sub(r'[\\u200B\\u200C\\u200D\\u2060\\uFEFF]', '', tx_id)\n\ne2e_tests/test/spec/test_ask_auth_for_imp_operations.py:147: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npattern = '[\\\\u200B\\\\u200C\\\\u200D\\\\u2060\\\\uFEFF]', repl = ''\nstring = str | None, count = 0, flags = 0\n\n    def sub(pattern, repl, string, count=0, flags=0):\n        \"\"\"Return the string obtained by replacing the leftmost\n        non-overlapping occurrences of the pattern in string by the\n        replacement repl.  repl can be either a string or a callable;\n        if a string, backslash escapes in it are processed.  If it is\n        a callable, it's passed the Match object and must return\n        a replacement string to be used.\"\"\"\n>       return _compile(pattern, flags).sub(repl, string, count)\nE       TypeError: expected string or bytes-like object, got 'types.UnionType'\n\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/re/__init__.py:186: TypeError","steps":[{"name":"Getting an RGB invoice","time":{"start":1766073178271,"stop":1766073204614,"duration":26343},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Sending the RGB20 asset","time":{"start":1766073204614,"stop":1766073288891,"duration":84277},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"asserting tx id","time":{"start":1766073288891,"stop":1766073411695,"duration":122804},"status":"broken","statusMessage":"TypeError: expected string or bytes-like object, got 'types.UnionType'\n","statusTrace":"  File \"/home/runner/work/iris-wallet-desktop/iris-wallet-desktop/e2e_tests/test/spec/test_ask_auth_for_imp_operations.py\", line 147, in test_ask_auth_for_imp_question_send_rgb20_on\n    tx_id = re.sub(r'[\\u200B\\u200C\\u200D\\u2060\\uFEFF]', '', tx_id)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/re/__init__.py\", line 186, in sub\n    return _compile(pattern, flags).sub(repl, string, count)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":3,"attachmentsCount":0,"hasContent":true},"afterStages":[{"name":"cleanup_between_tests::0","time":{"start":1766073411705,"stop":1766073413716,"duration":2011},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"story","value":"Sending RGB20 asset"},{"name":"parentSuite","value":"test.spec"},{"name":"suite","value":"test_ask_auth_for_imp_operations"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"37122-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test.spec.test_ask_auth_for_imp_operations"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"7c82c5de6cc462d6.json","parameterValues":[]}