{"uid":"f884a9304e21c9de","name":"test_send_rgb25_with_expired_invoice","fullName":"test.spec.test_send_and_receive_rgb25_asset#test_send_rgb25_with_expired_invoice","historyId":"26fa919f9a098719b4c421f10ff72875","time":{"start":1763649587773,"stop":1763650810553,"duration":1222780},"description":"Test send rgb25 asset with expired invoice","descriptionHtml":"<p>Test send rgb25 asset with expired invoice</p>\n","status":"broken","statusMessage":"dogtail.tree.SearchError: descendant of [desktop frame | main]: child with roleName='file chooser'","statusTrace":"wallets_and_operations = WalletTestSetup(first_page_features=<e2e_tests.test.features.main_features.MainFeatures object at 0x7f6128379760>, sec...age_operations=<e2e_tests.test.utilities.base_operation.BaseOperations object at 0x7f6121f3eae0>, wallet_mode='remote')\n\n    @allure.feature('Automation of send operation for RGB25 asset in iris wallet')\n    @allure.story('Testing send RGB25 asset with expired invoice')\n    def test_send_rgb25_with_expired_invoice(wallets_and_operations: WalletTestSetup):\n        \"\"\"Test send rgb25 asset with expired invoice\"\"\"\n    \n        with allure.step('Create and fund first wallet for send and receive rgb25'):\n            wallets_and_operations.first_page_features.wallet_features.create_and_fund_wallet(\n                wallets_and_operations=wallets_and_operations, application=FIRST_APPLICATION, application_url=FIRST_APPLICATION_URL,\n            )\n    \n        with allure.step('Create and fund second wallet for send and receive rgb25'):\n            wallets_and_operations.second_page_features.wallet_features.create_and_fund_wallet(\n                wallets_and_operations=wallets_and_operations, application=SECOND_APPLICATION, application_url=SECOND_APPLICATION_URL,\n            )\n    \n        with allure.step('Issue RGB25 asset'):\n>           wallets_and_operations.first_page_features.issue_rgb25_features.issue_rgb25_with_sufficient_sats_and_utxo(\n                application=FIRST_APPLICATION, asset_description=ASSET_DESCRIPTION, asset_name=ASSET_NAME, asset_amount=ASSET_AMOUNT,\n            )\n\ne2e_tests/test/spec/test_send_and_receive_rgb25_asset.py:41: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ne2e_tests/test/features/issue_rgb25.py:51: in issue_rgb25_with_sufficient_sats_and_utxo\n    if self.do_is_displayed(self.issue_rgb25_page_objects.rgb25_asset_media()):\ne2e_tests/test/pageobjects/issue_rgb25_page.py:55: in <lambda>\n    self.rgb25_asset_media = lambda: self.file_dialog().child(\ne2e_tests/test/pageobjects/issue_rgb25_page.py:54: in <lambda>\n    self.file_dialog = lambda: root.child(roleName=FILE_CHOOSER)\n../../../.cache/pypoetry/virtualenvs/iris-wallet-desktop-2iCMAhbc-py3.12/lib/python3.12/site-packages/dogtail/tree.py:1457: in child\n    return self.findChild(predicate.GenericPredicate(name=name, roleName=roleName, description=description,\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Atspi.Accessible object at 0x7f6129f0e280 (AtspiAccessible at 0x55fff86fcb30)>\npred = <dogtail.predicate.GenericPredicate object at 0x7f612a3bd970>\nrecursive = True, debugName = None, retry = True, requireResult = True\nshowingOnly = None\n\n    def findChild(self, pred, recursive=True, debugName=None, retry=True, requireResult=True, showingOnly=None):\n        \"\"\"\n        Search for a node satisyfing the predicate, returning a Node.\n    \n        If retry is True (the default), it makes multiple attempts, backing off and retrying\n        on failure, and eventually raises a descriptive exception if the search fails.\n    \n        If retry is False, it gives up after one attempt.\n    \n        If requireResult is True (the default), an exception is raised after all\n        attempts have failed. If it is false, the function simply returns None.\n        \"\"\"\n    \n        debug_log(\"findChild(self, pred=%s, recursive=%s, debugName=%s, retry=%s, requireResult=%s, showingOnly=%s)\" %\n                      (str(pred), str(recursive), str(debugName), str(retry), str(requireResult), str(showingOnly)))\n    \n        def describeSearch(parent, pred, recursive, debugName):\n            \"\"\"\n            Internal helper function\n            \"\"\"\n    \n            noun = \"descendant\" if recursive else \"child\"\n    \n            if debugName is None:\n                debugName = pred.describeSearchResult()\n    \n            return \"%s of %s: %s\" % (str(noun), parent.getLogString(), str(debugName))\n    \n    \n        compare_function = None\n        if isinstance(pred, LambdaType):\n            compare_function = pred\n            if debugName is None:\n                debugName = \"child satisyfing a custom lambda function\"\n    \n        else:\n            assert isinstance(pred, predicate.Predicate)\n            compare_function = pred.satisfiedByNode\n    \n        number_of_attempts = 0\n        while number_of_attempts < config.searchCutoffCount:\n            if number_of_attempts >= config.searchWarningThreshold or config.debugSearching:\n                logger.log(str(\"Searching for %s (attempt %i)\") %\n                           (describeSearch(self, pred, recursive, debugName), number_of_attempts))\n    \n            result = self._fastFindChild(compare_function, recursive, showingOnly=showingOnly)\n    \n            if result:\n                assert isinstance(result, Node)\n                if debugName:\n                    result.debugName = debugName\n                else:\n                    result.debugName = pred.describeSearchResult()\n                return result\n    \n            else:\n                if not retry:\n                    break\n                number_of_attempts += 1\n                if config.debugSearching or config.debugSleep:\n                    logger.log(\"sleeping for '%f'\" % config.searchBackoffDuration)\n                sleep(config.searchBackoffDuration)\n    \n        if requireResult:\n>           raise SearchError(describeSearch(self, pred, recursive, debugName))\nE           dogtail.tree.SearchError: descendant of [desktop frame | main]: child with roleName='file chooser'\n\n../../../.cache/pypoetry/virtualenvs/iris-wallet-desktop-2iCMAhbc-py3.12/lib/python3.12/site-packages/dogtail/tree.py:1369: SearchError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"load_qm_translation","time":{"start":1763649583852,"stop":1763649583886,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_environment","time":{"start":1763649583887,"stop":1763649587772,"duration":3885},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wallets_and_operations","time":{"start":1763649587772,"stop":1763649587772,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test send rgb25 asset with expired invoice","status":"broken","statusMessage":"dogtail.tree.SearchError: descendant of [desktop frame | main]: child with roleName='file chooser'","statusTrace":"wallets_and_operations = WalletTestSetup(first_page_features=<e2e_tests.test.features.main_features.MainFeatures object at 0x7f6128379760>, sec...age_operations=<e2e_tests.test.utilities.base_operation.BaseOperations object at 0x7f6121f3eae0>, wallet_mode='remote')\n\n    @allure.feature('Automation of send operation for RGB25 asset in iris wallet')\n    @allure.story('Testing send RGB25 asset with expired invoice')\n    def test_send_rgb25_with_expired_invoice(wallets_and_operations: WalletTestSetup):\n        \"\"\"Test send rgb25 asset with expired invoice\"\"\"\n    \n        with allure.step('Create and fund first wallet for send and receive rgb25'):\n            wallets_and_operations.first_page_features.wallet_features.create_and_fund_wallet(\n                wallets_and_operations=wallets_and_operations, application=FIRST_APPLICATION, application_url=FIRST_APPLICATION_URL,\n            )\n    \n        with allure.step('Create and fund second wallet for send and receive rgb25'):\n            wallets_and_operations.second_page_features.wallet_features.create_and_fund_wallet(\n                wallets_and_operations=wallets_and_operations, application=SECOND_APPLICATION, application_url=SECOND_APPLICATION_URL,\n            )\n    \n        with allure.step('Issue RGB25 asset'):\n>           wallets_and_operations.first_page_features.issue_rgb25_features.issue_rgb25_with_sufficient_sats_and_utxo(\n                application=FIRST_APPLICATION, asset_description=ASSET_DESCRIPTION, asset_name=ASSET_NAME, asset_amount=ASSET_AMOUNT,\n            )\n\ne2e_tests/test/spec/test_send_and_receive_rgb25_asset.py:41: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ne2e_tests/test/features/issue_rgb25.py:51: in issue_rgb25_with_sufficient_sats_and_utxo\n    if self.do_is_displayed(self.issue_rgb25_page_objects.rgb25_asset_media()):\ne2e_tests/test/pageobjects/issue_rgb25_page.py:55: in <lambda>\n    self.rgb25_asset_media = lambda: self.file_dialog().child(\ne2e_tests/test/pageobjects/issue_rgb25_page.py:54: in <lambda>\n    self.file_dialog = lambda: root.child(roleName=FILE_CHOOSER)\n../../../.cache/pypoetry/virtualenvs/iris-wallet-desktop-2iCMAhbc-py3.12/lib/python3.12/site-packages/dogtail/tree.py:1457: in child\n    return self.findChild(predicate.GenericPredicate(name=name, roleName=roleName, description=description,\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Atspi.Accessible object at 0x7f6129f0e280 (AtspiAccessible at 0x55fff86fcb30)>\npred = <dogtail.predicate.GenericPredicate object at 0x7f612a3bd970>\nrecursive = True, debugName = None, retry = True, requireResult = True\nshowingOnly = None\n\n    def findChild(self, pred, recursive=True, debugName=None, retry=True, requireResult=True, showingOnly=None):\n        \"\"\"\n        Search for a node satisyfing the predicate, returning a Node.\n    \n        If retry is True (the default), it makes multiple attempts, backing off and retrying\n        on failure, and eventually raises a descriptive exception if the search fails.\n    \n        If retry is False, it gives up after one attempt.\n    \n        If requireResult is True (the default), an exception is raised after all\n        attempts have failed. If it is false, the function simply returns None.\n        \"\"\"\n    \n        debug_log(\"findChild(self, pred=%s, recursive=%s, debugName=%s, retry=%s, requireResult=%s, showingOnly=%s)\" %\n                      (str(pred), str(recursive), str(debugName), str(retry), str(requireResult), str(showingOnly)))\n    \n        def describeSearch(parent, pred, recursive, debugName):\n            \"\"\"\n            Internal helper function\n            \"\"\"\n    \n            noun = \"descendant\" if recursive else \"child\"\n    \n            if debugName is None:\n                debugName = pred.describeSearchResult()\n    \n            return \"%s of %s: %s\" % (str(noun), parent.getLogString(), str(debugName))\n    \n    \n        compare_function = None\n        if isinstance(pred, LambdaType):\n            compare_function = pred\n            if debugName is None:\n                debugName = \"child satisyfing a custom lambda function\"\n    \n        else:\n            assert isinstance(pred, predicate.Predicate)\n            compare_function = pred.satisfiedByNode\n    \n        number_of_attempts = 0\n        while number_of_attempts < config.searchCutoffCount:\n            if number_of_attempts >= config.searchWarningThreshold or config.debugSearching:\n                logger.log(str(\"Searching for %s (attempt %i)\") %\n                           (describeSearch(self, pred, recursive, debugName), number_of_attempts))\n    \n            result = self._fastFindChild(compare_function, recursive, showingOnly=showingOnly)\n    \n            if result:\n                assert isinstance(result, Node)\n                if debugName:\n                    result.debugName = debugName\n                else:\n                    result.debugName = pred.describeSearchResult()\n                return result\n    \n            else:\n                if not retry:\n                    break\n                number_of_attempts += 1\n                if config.debugSearching or config.debugSleep:\n                    logger.log(\"sleeping for '%f'\" % config.searchBackoffDuration)\n                sleep(config.searchBackoffDuration)\n    \n        if requireResult:\n>           raise SearchError(describeSearch(self, pred, recursive, debugName))\nE           dogtail.tree.SearchError: descendant of [desktop frame | main]: child with roleName='file chooser'\n\n../../../.cache/pypoetry/virtualenvs/iris-wallet-desktop-2iCMAhbc-py3.12/lib/python3.12/site-packages/dogtail/tree.py:1369: SearchError","steps":[{"name":"Create and fund first wallet for send and receive rgb25","time":{"start":1763649587773,"stop":1763650377955,"duration":790182},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Create and fund second wallet for send and receive rgb25","time":{"start":1763650377955,"stop":1763650405092,"duration":27137},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Issue RGB25 asset","time":{"start":1763650405092,"stop":1763650810552,"duration":405460},"status":"broken","statusMessage":"dogtail.tree.SearchError: descendant of [desktop frame | main]: child with roleName='file chooser'\n","statusTrace":"  File \"/home/runner/work/iris-wallet-desktop/iris-wallet-desktop/e2e_tests/test/spec/test_send_and_receive_rgb25_asset.py\", line 41, in test_send_rgb25_with_expired_invoice\n    wallets_and_operations.first_page_features.issue_rgb25_features.issue_rgb25_with_sufficient_sats_and_utxo(\n  File \"/home/runner/work/iris-wallet-desktop/iris-wallet-desktop/e2e_tests/test/features/issue_rgb25.py\", line 51, in issue_rgb25_with_sufficient_sats_and_utxo\n    if self.do_is_displayed(self.issue_rgb25_page_objects.rgb25_asset_media()):\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/iris-wallet-desktop/iris-wallet-desktop/e2e_tests/test/pageobjects/issue_rgb25_page.py\", line 55, in <lambda>\n    self.rgb25_asset_media = lambda: self.file_dialog().child(\n                                     ^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/iris-wallet-desktop/iris-wallet-desktop/e2e_tests/test/pageobjects/issue_rgb25_page.py\", line 54, in <lambda>\n    self.file_dialog = lambda: root.child(roleName=FILE_CHOOSER)\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/iris-wallet-desktop-2iCMAhbc-py3.12/lib/python3.12/site-packages/dogtail/tree.py\", line 1457, in child\n    return self.findChild(predicate.GenericPredicate(name=name, roleName=roleName, description=description,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/iris-wallet-desktop-2iCMAhbc-py3.12/lib/python3.12/site-packages/dogtail/tree.py\", line 1369, in findChild\n    raise SearchError(describeSearch(self, pred, recursive, debugName))\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e88f7e7056fde93b","name":"Screenshot on failure: test_send_rgb25_with_expired_invoice","source":"e88f7e7056fde93b.png","type":"image/png","size":1336336}],"parameters":[],"stepsCount":3,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_environment::0","time":{"start":1763651546190,"stop":1763651546208,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"story","value":"Testing send RGB25 asset with expired invoice"},{"name":"feature","value":"Automation of send operation for RGB25 asset in iris wallet"},{"name":"parentSuite","value":"test.spec"},{"name":"suite","value":"test_send_and_receive_rgb25_asset"},{"name":"host","value":"runnervmfxdz0"},{"name":"thread","value":"32267-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test.spec.test_send_and_receive_rgb25_asset"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"f884a9304e21c9de.json","parameterValues":[]}