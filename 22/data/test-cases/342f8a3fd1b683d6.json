{"uid":"342f8a3fd1b683d6","name":"test_refresh_transfer","fullName":"test.spec.test_refresh_transfer#test_refresh_transfer","historyId":"d1ab47a5274f9aa6225c3573d1873f92","time":{"start":1763970457089,"stop":1763971050285,"duration":593196},"description":"Test for refresh transfer","descriptionHtml":"<p>Test for refresh transfer</p>\n","status":"broken","statusMessage":"TypeError: Argument 1 does not allow None as a value","statusTrace":"wallets_and_operations = WalletTestSetup(first_page_features=<e2e_tests.test.features.main_features.MainFeatures object at 0x7fb9fbfd1d90>, sec...age_operations=<e2e_tests.test.utilities.base_operation.BaseOperations object at 0x7fba0c00eae0>, wallet_mode='remote')\n\n    @allure.feature('Test for refresh transfer')\n    @allure.story('Test for refresh transfer from home refresh and then check the status to success after mine the transaction')\n    def test_refresh_transfer(wallets_and_operations: WalletTestSetup):\n        \"\"\"Test for refresh transfer\"\"\"\n    \n        with allure.step('Create and fund first wallet for refresh transfer'):\n            wallets_and_operations.first_page_features.wallet_features.create_and_fund_wallet(\n                wallets_and_operations=wallets_and_operations, application=FIRST_APPLICATION, application_url=FIRST_APPLICATION_URL,\n            )\n    \n        with allure.step('Create and fund second wallet for refresh transfer'):\n            wallets_and_operations.second_page_features.wallet_features.create_and_fund_wallet(\n                wallets_and_operations=wallets_and_operations, application=SECOND_APPLICATION, application_url=SECOND_APPLICATION_URL,\n            )\n    \n        with allure.step('Issue RGB20 asset for refresh transfer'):\n            wallets_and_operations.first_page_features.issue_rgb20_features.issue_rgb20_with_sufficient_sats_and_utxo(\n                application=FIRST_APPLICATION, asset_ticker=ASSET_TICKER, asset_name=ASSET_NAME, asset_amount=ASSET_AMOUNT,\n            )\n    \n        with allure.step('Generate invoice'):\n            invoice = wallets_and_operations.second_page_features.receive_features.receive_asset_from_sidebar(\n                SECOND_APPLICATION,\n            )\n    \n        with allure.step('Send RGB20 asset to correct invoice'):\n            wallets_and_operations.first_page_operations.do_focus_on_application(\n                FIRST_APPLICATION,\n            )\n    \n            wallets_and_operations.first_page_objects.fungible_page_objects.click_rgb20_frame(\n                ASSET_NAME,\n            )\n    \n            wallets_and_operations.first_page_objects.asset_detail_page_objects.click_send_button()\n    \n>           wallets_and_operations.first_page_features.send_features.send(\n                application=FIRST_APPLICATION, receiver_invoice=invoice, amount=SEND_AMOUNT,\n            )\n\ne2e_tests/test/spec/test_refresh_transfer.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ne2e_tests/test/features/send.py:40: in send\n    send_objects.enter_asset_invoice(receiver_invoice)\ne2e_tests/test/pageobjects/send_asset_page.py:67: in enter_asset_invoice\n    return self.do_set_text(self.invoice_input(), address) if self.do_is_displayed(self.invoice_input()) else None\ne2e_tests/test/utilities/base_operation.py:114: in do_set_text\n    element.text = value\n../../../.cache/pypoetry/virtualenvs/iris-wallet-desktop-2iCMAhbc-py3.12/lib/python3.12/site-packages/dogtail/tree.py:524: in text\n    self.queryEditableText().setTextContents(text)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pyatspi.editabletext.EditableText object at 0x7fb9fbd2b2c0>\ncontents = None\n\n    def setTextContents(self, contents):\n            \"\"\"\n            Replace the text contents with a new string, discarding the old\n            contents.\n            @param : newContents\n            a UTF-8 string with which the text object's contents will be\n            replaced.\n            @return True if the text content was successfully changed, False\n            otherwise.\n            \"\"\"\n>           return Atspi.EditableText.set_text_contents(self.obj, contents)\nE           TypeError: Argument 1 does not allow None as a value\n\n../../../.cache/pypoetry/virtualenvs/iris-wallet-desktop-2iCMAhbc-py3.12/lib/python3.12/site-packages/pyatspi/editabletext.py:113: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"test_environment","time":{"start":1763970452873,"stop":1763970457088,"duration":4215},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wallets_and_operations","time":{"start":1763970457088,"stop":1763970457088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test for refresh transfer","status":"broken","statusMessage":"TypeError: Argument 1 does not allow None as a value","statusTrace":"wallets_and_operations = WalletTestSetup(first_page_features=<e2e_tests.test.features.main_features.MainFeatures object at 0x7fb9fbfd1d90>, sec...age_operations=<e2e_tests.test.utilities.base_operation.BaseOperations object at 0x7fba0c00eae0>, wallet_mode='remote')\n\n    @allure.feature('Test for refresh transfer')\n    @allure.story('Test for refresh transfer from home refresh and then check the status to success after mine the transaction')\n    def test_refresh_transfer(wallets_and_operations: WalletTestSetup):\n        \"\"\"Test for refresh transfer\"\"\"\n    \n        with allure.step('Create and fund first wallet for refresh transfer'):\n            wallets_and_operations.first_page_features.wallet_features.create_and_fund_wallet(\n                wallets_and_operations=wallets_and_operations, application=FIRST_APPLICATION, application_url=FIRST_APPLICATION_URL,\n            )\n    \n        with allure.step('Create and fund second wallet for refresh transfer'):\n            wallets_and_operations.second_page_features.wallet_features.create_and_fund_wallet(\n                wallets_and_operations=wallets_and_operations, application=SECOND_APPLICATION, application_url=SECOND_APPLICATION_URL,\n            )\n    \n        with allure.step('Issue RGB20 asset for refresh transfer'):\n            wallets_and_operations.first_page_features.issue_rgb20_features.issue_rgb20_with_sufficient_sats_and_utxo(\n                application=FIRST_APPLICATION, asset_ticker=ASSET_TICKER, asset_name=ASSET_NAME, asset_amount=ASSET_AMOUNT,\n            )\n    \n        with allure.step('Generate invoice'):\n            invoice = wallets_and_operations.second_page_features.receive_features.receive_asset_from_sidebar(\n                SECOND_APPLICATION,\n            )\n    \n        with allure.step('Send RGB20 asset to correct invoice'):\n            wallets_and_operations.first_page_operations.do_focus_on_application(\n                FIRST_APPLICATION,\n            )\n    \n            wallets_and_operations.first_page_objects.fungible_page_objects.click_rgb20_frame(\n                ASSET_NAME,\n            )\n    \n            wallets_and_operations.first_page_objects.asset_detail_page_objects.click_send_button()\n    \n>           wallets_and_operations.first_page_features.send_features.send(\n                application=FIRST_APPLICATION, receiver_invoice=invoice, amount=SEND_AMOUNT,\n            )\n\ne2e_tests/test/spec/test_refresh_transfer.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ne2e_tests/test/features/send.py:40: in send\n    send_objects.enter_asset_invoice(receiver_invoice)\ne2e_tests/test/pageobjects/send_asset_page.py:67: in enter_asset_invoice\n    return self.do_set_text(self.invoice_input(), address) if self.do_is_displayed(self.invoice_input()) else None\ne2e_tests/test/utilities/base_operation.py:114: in do_set_text\n    element.text = value\n../../../.cache/pypoetry/virtualenvs/iris-wallet-desktop-2iCMAhbc-py3.12/lib/python3.12/site-packages/dogtail/tree.py:524: in text\n    self.queryEditableText().setTextContents(text)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pyatspi.editabletext.EditableText object at 0x7fb9fbd2b2c0>\ncontents = None\n\n    def setTextContents(self, contents):\n            \"\"\"\n            Replace the text contents with a new string, discarding the old\n            contents.\n            @param : newContents\n            a UTF-8 string with which the text object's contents will be\n            replaced.\n            @return True if the text content was successfully changed, False\n            otherwise.\n            \"\"\"\n>           return Atspi.EditableText.set_text_contents(self.obj, contents)\nE           TypeError: Argument 1 does not allow None as a value\n\n../../../.cache/pypoetry/virtualenvs/iris-wallet-desktop-2iCMAhbc-py3.12/lib/python3.12/site-packages/pyatspi/editabletext.py:113: TypeError","steps":[{"name":"Create and fund first wallet for refresh transfer","time":{"start":1763970457089,"stop":1763970484377,"duration":27288},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Create and fund second wallet for refresh transfer","time":{"start":1763970484377,"stop":1763970885500,"duration":401123},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Issue RGB20 asset for refresh transfer","time":{"start":1763970885500,"stop":1763970894416,"duration":8916},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Generate invoice","time":{"start":1763970894417,"stop":1763971046084,"duration":151667},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Send RGB20 asset to correct invoice","time":{"start":1763971046084,"stop":1763971050284,"duration":4200},"status":"broken","statusMessage":"TypeError: Argument 1 does not allow None as a value\n","statusTrace":"  File \"/home/runner/work/iris-wallet-desktop/iris-wallet-desktop/e2e_tests/test/spec/test_refresh_transfer.py\", line 58, in test_refresh_transfer\n    wallets_and_operations.first_page_features.send_features.send(\n  File \"/home/runner/work/iris-wallet-desktop/iris-wallet-desktop/e2e_tests/test/features/send.py\", line 40, in send\n    send_objects.enter_asset_invoice(receiver_invoice)\n  File \"/home/runner/work/iris-wallet-desktop/iris-wallet-desktop/e2e_tests/test/pageobjects/send_asset_page.py\", line 67, in enter_asset_invoice\n    return self.do_set_text(self.invoice_input(), address) if self.do_is_displayed(self.invoice_input()) else None\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/iris-wallet-desktop/iris-wallet-desktop/e2e_tests/test/utilities/base_operation.py\", line 114, in do_set_text\n    element.text = value\n    ^^^^^^^^^^^^\n  File \"/home/runner/.cache/pypoetry/virtualenvs/iris-wallet-desktop-2iCMAhbc-py3.12/lib/python3.12/site-packages/dogtail/tree.py\", line 524, in text\n    self.queryEditableText().setTextContents(text)\n  File \"/home/runner/.cache/pypoetry/virtualenvs/iris-wallet-desktop-2iCMAhbc-py3.12/lib/python3.12/site-packages/pyatspi/editabletext.py\", line 113, in setTextContents\n    return Atspi.EditableText.set_text_contents(self.obj, contents)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"5e3654f8d36cc8a6","name":"Screenshot on failure: test_refresh_transfer","source":"5e3654f8d36cc8a6.png","type":"image/png","size":1361269}],"parameters":[],"stepsCount":5,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_environment::0","time":{"start":1763971050550,"stop":1763971050575,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"story","value":"Test for refresh transfer from home refresh and then check the status to success after mine the transaction"},{"name":"feature","value":"Test for refresh transfer"},{"name":"parentSuite","value":"test.spec"},{"name":"suite","value":"test_refresh_transfer"},{"name":"host","value":"runnervmfxdz0"},{"name":"thread","value":"7472-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test.spec.test_refresh_transfer"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"342f8a3fd1b683d6.json","parameterValues":[]}